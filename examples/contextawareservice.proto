syntax = "proto3";

package contextaware.v1;

// Service that uses ServiceContext for metadata and headers.
service ContextAwareService {
    // Method that accesses context information.
    //
    // Args:
    //     request: The request message
    //     context: The ServiceContext from Connecpy
    //     
    // Returns:
    //     Response with context details
    rpc GetContextInfo (ContextRequest) returns (ContextResponse);
    // Method without context parameter for comparison.
    rpc SimpleMethod (ContextRequest) returns (ContextResponse);
}

// Response with context information.
message ContextResponse {
    string result = 1;
    bool has_context = 2;
}

// Request for context-aware operations.
message ContextRequest {
    string operation = 1;
    string value = 2;
}

